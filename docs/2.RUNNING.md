# Running

First, `cd ./legged_gym`.

## Training

```bash
python legged_gym/scripts/train.py --task <task_name> --wandb <wandb_name> --run_name <run_name> --headless --sim_device cuda:<i> --rl_device cuda:<i> # for resume, add --resume --load_run <run_name> [Optional: --resume_stop_at_max]
```

## Playing

```bash
python legged_gym/scripts/play.py --task <task_name> --experiment_name <experiment_name> --load_run <run_name> --checkpoint -1 --sim_device cuda:<i> --rl_device cuda:<i> --visualize
```

## Evaluation

First edit `legged_gym/scripts/run_evaluation.py` to set robots, tasks, ckpts, etc. that you want to evaluate. Then run:

```bash
python legged_gym/scripts/run_evaluation.py
```

Note that the actual rollouts (set by `total_rollouts` in `legged_gym/scripts/evaluate.py`) will be less than the number in the progress bar (this is to make sure sufficient rollouts are done for each task), so don't worry if the progress bar is much longer than you expect!

## Troubleshooting

1. `ImportError: libpython3.8.so.1.0: cannot open shared object file: No such file or directory`

    ```bash
    sudo cp <PATH_TO_YOUR_CONDA>/envs/human/lib/libpython3.8.so.1.0 /usr/lib/
    ```

    Reference: https://stackoverflow.com/questions/73582092/importerror-libpython3-8-so-1-0-cannot-open-shared-object-file-no-such-file-o

2. `[Error] [carb] [Plugin: libcarb.windowing-glfw.plugin.so] Could not load the dynamic library from /root/isaacgym/python/isaacgym/_bindings/linux-x86_64/libcarb.windowing-glfw.plugin.so. Error: libX11.so.6: cannot open shared object file: No such file or directory`

    ```bash
    sudo apt-get install gconf-service libasound2 libatk1.0-0 libc6 libcairo2 libcups2 libdbus-1-3 libexpat1 libfontconfig1 libgcc1 libgconf-2-4 libgdk-pixbuf2.0-0 libglib2.0-0 libgtk-3-0 libnspr4 libpango-1.0-0 libpangocairo-1.0-0 libstdc++6 libx11-6 libx11-xcb1 libxcb1 libxcomposite1 libxcursor1 libxdamage1 libxext6 libxfixes3 libxi6 libxrandr2 libxrender1 libxss1 libxtst6 ca-certificates fonts-liberation libappindicator1 libnss3 lsb-release xdg-utils wget -y
    ```

    Reference: https://stackoverflow.com/questions/69340703/error-while-loading-shared-libraries-libx11-so-6

3. `Segmentation fault (core dumped)` for no reason

    ```bash
    sudo apt-get install ubuntu-desktop
    ```

    Reference: https://github.com/isaac-sim/IsaacGymEnvs/issues/52#issuecomment-1175822097

4. `subprocess.CalledProcessError: Command '['which', 'c++']' returned non-zero exit status 1.`

    ```bash
    sudo apt install g++
    ```

5. `[Error] [carb] Failed to acquire interface: [carb::settings::ISettings v0.4], by client: carb.gym.python.gym_38 (plugin name: (null))`

    ```bash
    cd <PATH_TO_YOUR_ISAACGYM>/python/isaacgym/_bindings/linux-x86_64/
    chmod ug+rwx *
    ```

    Reference: https://forums.developer.nvidia.com/t/couldnt-acquire-idictionary-interface-on-startup-to-collect-the-settings/273497